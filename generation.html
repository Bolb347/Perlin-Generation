<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>

<script>
  let pixels = [];
  function setup() {
    createCanvas(400, 400);
    for (var x = 0; x < 100; x ++) {
      for (var y = 0; y < 100; y ++) {
        var biome;
        let zoom = 100
        if (noise(x, y) < 0.2) {
          biome = 'fields';
        } else if (noise(x/zoom, y/zoom) < 0.4) {
          biome = 'plains';
        } else if (noise(x/zoom, y/zoom) < 0.6) {
          biome = 'forest';
        } else if (noise(x/zoom, y/zoom) < 0.8) {
          biome = 'mountains';
        } else if (noise(x/zoom, y/zoom) <= 1) {
          biome = 'ocean';
        };
        pixels.push(biome);
      };
    };
  };

  function draw() {
    background(220);
  
    for (var x = 0; x < 100; x ++) {
      for (var y = 0; y < 100; y ++) {
        let c = 0;
        if (pixels[x * 100 + y] === 'fields') {
          c = color(0, 0, 0);
        } else if (pixels[x * 100 + y] === 'plains') {
          c = color(100, 0, 0);
        } else if (pixels[x * 100 + y] === 'forest') {
          c = color(0, 100, 0);
        } else if (pixels[x * 100 + y] === 'mountains') {
          c = color(0, 0, 100);
        } else if (pixels[x * 100 + y] === 'ocean') {
          c = color(255, 255, 255);
        };
        fill(c);
        noStroke();
        square(x*4, y*4, 4);
      };
    };
  };
</script>
